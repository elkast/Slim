
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion des Réservations - Hotelier</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://unpkg.com/html5-qrcode"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #e74c3c;
            --accent-color: #3498db;
        }

        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }

        .reservation-container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(31, 38, 135, 0.15);
            backdrop-filter: blur(4px);
        }

        .status-badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            animation: fadeIn 0.5s ease;
        }

        .status-pending {
            background-color: #ffd700;
            color: #000;
        }

        .status-accepted {
            background-color: #2ecc71;
            color: #fff;
        }

        .status-cancelled {
            background-color: #e74c3c;
            color: #fff;
        }

        .reservation-card {
            border: none;
            border-radius: 10px;
            margin-bottom: 1rem;
            transition: transform 0.3s ease;
            animation: slideInUp 0.5s ease;
        }

        .reservation-card:hover {
            transform: translateY(-5px);
        }

        #qr-reader {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 1rem;
            border-radius: 10px;
            background: var(--accent-color);
            color: white;
            animation: slideInRight 0.5s ease;
        }

        @keyframes slideInRight {
            from {
                transform: translateX(100%);
            }
            to {
                transform: translateX(0);
            }
        }
    </style>
</head>
<body>

<div class="col-md-4">
                  <div class="card feature-card animate-fade-in">
                      <div class="card-body text-center">
                          <div class="icon-wrapper">
                              <i class="fas fa-calendar-check"></i>
                          </div>
                          <h3>Réservations</h3>
                          <ul class="list-unstyled text-start">
                              <li><i class="fas fa-check text-success"></i> Suivi des réservations (en attente/acceptées/annulées)</li>
                              <li><i class="fas fa-check text-success"></i> Acceptation/Refus des réservations</li>
                              <li><i class="fas fa-check text-success"></i> Notifications en temps réel</li>
                              <li><i class="fas fa-check text-success"></i> Scanner QR Code client</li>
                          </ul>
                      </div>
                  </div>
              </div>

    <div class="reservation-container animate__animated animate__fadeIn">
        <h1 class="text-center mb-5">Gestion des Réservations</h1>

        <!-- Onglets de navigation -->
        <ul class="nav nav-pills mb-4 justify-content-center" id="reservationTabs">
            <li class="nav-item">
                <a class="nav-link active" data-bs-toggle="tab" href="#nouvelles">Nouvelles Réservations</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#encours">En Cours</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#historique">Historique</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" data-bs-toggle="tab" href="#scanner">Scanner QR</a>
            </li>
        </ul>

        <!-- Contenu des onglets -->
        <div class="tab-content">
            <div class="tab-pane fade show active" id="nouvelles">
                <div class="reservation-card card p-3">
                    <div class="d-flex justify-content-between align-items-center">
                        <div>
                            <h5>Réservation #12345</h5>
                            <p class="mb-1">Client: John Doe</p>
                            <p class="mb-1">Date: 20/12/2023</p>
                            <span class="status-badge status-pending">En attente</span>
                        </div>
                        <div>
                            <button class="btn btn-success me-2">Accepter</button>
                            <button class="btn btn-danger">Refuser</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="tab-pane fade" id="encours">
                <!-- Réservations en cours -->
            </div>

            <div class="tab-pane fade" id="historique">
                <!-- Historique des réservations -->
            </div>

            <div class="tab-pane fade" id="scanner">
                <div id="qr-reader"></div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Initialisation du scanner QR
        function onScanSuccess(decodedText, decodedResult) {
            console.log(`Code scanné: ${decodedText}`);
            showNotification(`Réservation ${decodedText} validée`);
        }

        function onScanFailure(error) {
            console.warn(`Erreur de scan: ${error}`);
        }

        // Notification en temps réel
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);

            setTimeout(() => {
                notification.remove();
            }, 3000);
        }

        // Initialisation du scanner QR quand l'onglet est actif
        document.querySelector('a[href="#scanner"]').addEventListener('click', () => {
            setTimeout(() => {
                const html5QrcodeScanner = new Html5QrcodeScanner(
                    "qr-reader", { fps: 10, qrbox: { width: 250, height: 250 } }
                );
                html5QrcodeScanner.render(onScanSuccess, onScanFailure);
            }, 100);
        });
    </script>
</body>
</html>
